{"version":3,"sources":["../src/textlint-rule-google-ellipses.js"],"names":["DocumentURL","report","Syntax","context","RuleError","getSource","fixer","dictionaries","pattern","test","captures","message","replace","Paragraph","node","module","exports","linter"],"mappings":"AAAA;AACA;;AACA;;;;AAEA,IAAMA,cAAc,8CAApB;AACA,IAAMC,SAAS,yBAAW;AAAA,QACdC,MADc,GACkCC,OADlC,CACdD,MADc;AAAA,QACNE,SADM,GACkCD,OADlC,CACNC,SADM;AAAA,QACKC,SADL,GACkCF,OADlC,CACKE,SADL;AAAA,QACgBC,KADhB,GACkCH,OADlC,CACgBG,KADhB;AAAA,QACuBL,MADvB,GACkCE,OADlC,CACuBF,MADvB;;AAEtB,QAAMM,eAAe;AACjB;AACA;AACIC,iBAAS,wBADb;AAEIC,cAAM,oBAAkB;AAAA,gBAAfC,QAAe,QAAfA,QAAe;;AACpB;AACA,mBAAO,CAAC,QAAQD,IAAR,CAAaC,SAAS,CAAT,CAAb,CAAR;AACH,SALL;AAMIC,iBAAS;AAAA,mBACL,mDACA,IADA,GAEA,gEAHK;AAAA;AANb,KAFiB;AAajB;AACA;AACIH,iBAAS,cADb;AAEIG,iBAAS;AAAA,mBACL,sDACA,IADA,GAEA,kEAHK;AAAA;AAFb,KAdiB,EAqBjB;AACIH,iBAAS,cADb;AAEIG,iBAAS;AAAA,mBACL,gDACA,IADA,GAEA,kEAHK;AAAA;AAFb,KArBiB;AA4BjB;AACA;AACIH,iBAAS,mBADb;AAEII,iBAAS,wBAAkB;AAAA,gBAAfF,QAAe,SAAfA,QAAe;;AACvB,mBAAUA,SAAS,CAAT,CAAV,aAA6BA,SAAS,CAAT,CAA7B;AACH,SAJL;AAKIC,iBAAS;AAAA,mBAAM,mDAAmD,IAAnD,GAA0DX,WAAhE;AAAA;AALb,KA7BiB,CAArB;;AAsCA,+BACKE,OAAOW,SADZ,YACuBC,IADvB,EAC6B;AACrB,eAAO,4DAAkB;AACrBZ,0BADqB;AAErBY,sBAFqB;AAGrBP,sCAHqB;AAIrBN,0BAJqB;AAKrBI,gCALqB;AAMrBD,gCANqB;AAOrBE;AAPqB,SAAlB,CAAP;AASH,KAXL;AAaH,CArDD;AAsDAS,OAAOC,OAAP,GAAiB;AACbC,YAAQhB,MADK;AAEbK,WAAOL;AAFM,CAAjB","file":"textlint-rule-google-ellipses.js","sourcesContent":["// MIT Â© 2017 azu\n\"use strict\";\nimport { paragraphReporter, getPosFromSingleWord } from \"@textlint-rule/textlint-report-helper-for-google-preset\";\n\nconst DocumentURL = \"https://developers.google.com/style/ellipses\";\nconst report = context => {\n    const { Syntax, RuleError, getSource, fixer, report } = context;\n    const dictionaries = [\n        // NG: Suspension points\n        {\n            pattern: / \\.\\.\\. (.*?) \\.\\.\\. /g,\n            test: ({ captures }) => {\n                // if includes punctuation mark, ignore it\n                return !/[!?.]/.test(captures[0]);\n            },\n            message: () =>\n                \"Disallow to use ellipses as suspension points.\" +\n                \"\\n\" +\n                \"https://developers.google.com/style/ellipses#suspension-points\"\n        },\n        // NG: in beginning or end of the text.\n        {\n            pattern: /\"\\s*?\\.\\.\\./g,\n            message: () =>\n                \"Disallow to use ellipses in beginning of the text\" +\n                \"\\n\" +\n                \"https://developers.google.com/style/ellipses#how-to-use-ellipses\"\n        },\n        {\n            pattern: /\\.\\.\\.\\s*?\"/g,\n            message: () =>\n                \"Disallow to use ellipses in end of the text\" +\n                \"\\n\" +\n                \"https://developers.google.com/style/ellipses#how-to-use-ellipses\"\n        },\n        // space\n        {\n            pattern: /(\\w+)\\.\\.\\.(\\w+)/g,\n            replace: ({ captures }) => {\n                return `${captures[0]} ... ${captures[1]}`;\n            },\n            message: () => \"Insert one space before and after the ellipsis\" + \"\\n\" + DocumentURL\n        }\n    ];\n\n    return {\n        [Syntax.Paragraph](node) {\n            return paragraphReporter({\n                Syntax,\n                node,\n                dictionaries,\n                report,\n                getSource,\n                RuleError,\n                fixer\n            });\n        }\n    };\n};\nmodule.exports = {\n    linter: report,\n    fixer: report\n};\n"]}