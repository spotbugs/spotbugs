apply from: "$rootDir/gradle/checkstyle.gradle"

sourceSets {
  main {
    java {
      srcDirs = ['src', 'defaultScenario']
    }
    resources {
      srcDirs = ['src']
      include '**/*.properties'
      include '**/*.xml'
    }
  }
}

dependencies {
  compile(project(':eclipsePlugin')) {
    transitive = true
  }
  compile project(path: ':eclipsePlugin', configuration: 'compileOnly')

  compile project(':test-harness')
  compile 'org.hamcrest:hamcrest-all:1.3'
  compile 'org.apache.ant:ant:1.9.4'
}

task sourcesJar(type: Jar) {
  classifier = 'sources'
  from sourceSets.main.allSource
}

artifacts {
  archives jar, sourcesJar
}

jacocoTestReport {
  additionalSourceDirs = files(project(':spotbugs').sourceSets.main.java.srcDirs)
  additionalClassDirs = files(project(':spotbugs').sourceSets.main.output.classesDirs)
}
